%%
%% Bibliography handler using biblatex
%%
%% Phil Garner
%%
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{png-bibs}[2020/05/21 PNG's bibliography]

\newif\if@ieee\@ieeefalse
\newif\if@citet\@citetfalse
\DeclareOption{ieee}{\@ieeetrue}
\DeclareOption{citet}{\@citettrue}
\ProcessOptions\relax

\if@ieee
  % Use the IEEE package
  \RequirePackage[%
    style=ieee,
    natbib,
    url=false        % Suppress an extra URL as DOI and arXiv are links
  ]{biblatex}
\else
  % Similar to natbib's author-year, and better than biblatex's default
  \RequirePackage[%
    style=iso-authoryear,
    natbib,
    ]{biblatex}

  % Stop the family names converting to upper case (so, perhaps not ISO)
  \let\familynameformat=\relax
\fi

\if@citet
  \let\cite\textcite
\fi

% All my bib resources (biber requires the .bib extension)
\addbibresource{png-strs.bib}
\addbibresource{png-pubs.bib}
\addbibresource{png-refs.bib}
\addbibresource{png-tech.bib}


%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
