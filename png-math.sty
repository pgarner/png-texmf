%%
%% Various macros for setting maths
%%
%% Phil Garner
%%
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{png-math}[2020/02/19 PNG's maths conventions]

%%
%% General notation
%%
\usepackage{amsmath}
\usepackage{amssymb}

% Big brackets with proper math function spacing
\newcommand{\roundp}[1]{\mathopen{}\left(#1\right)\mathclose{}}
\newcommand{\squarep}[1]{\mathopen{}\left[#1\right]\mathclose{}}

% Vectors are bold in TeX, underlined in patents
% Complex numbers are fraktur (may not be a good idea)
\renewcommand{\Vec}[1]{\boldsymbol{#1}}
\newcommand{\Com}[1]{\mathfrak{#1}}
\newcommand{\Max}[1]{\max\roundp{#1}}
\newcommand{\Min}[1]{\min\roundp{#1}}
\newcommand{\Exp}[1]{\exp\roundp{#1}}
\newcommand{\Abs}[1]{\lvert#1\rvert}
\newcommand{\Norm}[1]{\lVert#1\rVert}
\newcommand{\Floor}[1]{\lfloor#1\rfloor}

% Operators
\DeclareMathOperator{\Ei}{Ei}
\DeclareMathOperator*{\argmax}{argmax}
\DeclareMathOperator*{\argmin}{argmin}
\DeclareMathOperator{\erf}{erf}
\DeclareMathOperator{\logit}{logit}
\DeclareMathOperator{\odds}{odds}

% Transpose, identity
\newcommand{\T}{\mathsf{T}}
\newcommand{\I}{\boldsymbol{I}}

% Probability
% Unconditional - uses the big brackets
\newcommand{\pmf}{P}
\newcommand{\pdf}{p}
\renewcommand{\Pr}[2][]{\pmf_{#1}\roundp{#2}}
\newcommand{\PD}[2][]{\pdf_{#1}\roundp{#2}}
\newcommand{\PR}[2][]{\mathbb{P}_{#1}\roundp{#2}}
\newcommand{\Ex}[2][]{\mathbb{E}_{#1}\squarep{#2}}

% Conditional - don't use the big brackets to match the conditional
\newcommand{\CondPr}[3][]{\pmf_{#1}(#2\mid#3)}
\newcommand{\CondPD}[3][]{\pdf_{#1}(#2\mid#3)}
\newcommand{\CondPR}[3][]{\mathbb{P}_{#1}(#2\mid#3)}
\newcommand{\CondEx}[3][]{\mathbb{E}_{#1}[#2\mid#3]}

\newcommand{\Li}[1]{\mathcal{L}(#1)}
\newcommand{\Lo}[1]{L(#1)}
\newcommand{\Va}[1]{\operatorname{Var}[#1]}
\newcommand{\Mo}[1]{\operatorname{Mode}[#1]}

% Information theory
\newcommand{\En}[1]{\mathbb{H}\roundp{#1}}
\newcommand{\MI}[1]{\mathbb{I}\roundp{#1}}
\newcommand{\KL}[2]{D_\text{KL}[#1||#2]}

% Distributions
\newcommand{\Normal}[3]{\mathcal{N}\roundp{#1;#2,#3}}
\newcommand{\CNormal}[3]{\mathfrak{N}\roundp{#1;#2,#3}}
\newcommand{\IGamma}[3]{G^{-1}\roundp{#1;#2,#3}}

% General variables to use for general cases
\newcommand{\data}{x}
\newcommand{\Data}{X}
\newcommand{\vData}{\Vec{\data}}
\newcommand{\mData}{\Vec{\Data}}
\newcommand{\param}{\theta}
\newcommand{\Param}{\Theta}
\newcommand{\vParam}{\Vec{\param}}
\newcommand{\mParam}{\Vec{\Param}}
\newcommand{\hyper}{\tau}
\newcommand{\Hyper}{\Vec{\hyper}}
\newcommand{\vHyper}{\Vec{\hyper}}
\newcommand{\mean}{\mu}
\newcommand{\Mean}{\Vec{\mean}}
\newcommand{\vMean}{\Vec{\mean}}
\newcommand{\stddev}{\sigma}
\newcommand{\vStddev}{\Vec{\sigma}}
\newcommand{\variance}{\upsilon}
\newcommand{\vVariance}{\Vec{\variance}}
\newcommand{\mVariance}{\Vec{\Sigma}}
\newcommand{\mHessian}{\Vec{H}}

% Option "stats" changes to some statistics vs. signal processing conventions
\DeclareOption{stats}{
  \renewcommand{\pmf}{f}
  \renewcommand{\pdf}{f}
  \renewcommand{\Li}[1]{L(#1)}
  \renewcommand{\Lo}[1]{\mathcal{L}(#1)}
}
\ProcessOptions\relax


%%% Local Variables: 
%%% mode: latex
%%% TeX-master: t
%%% End: 
